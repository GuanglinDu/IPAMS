<% provide(:title, "Admins") %>

<h1>Listing admins</h1>

<table class="table table-striped table-condensed">
  <thead>
    <tr>
      <th>No.</th>
      <th>Name</th>
      <th>Email Address</th>
      <th>Role</th>
      <th>Sign-in Count</th>
      <th>Current Sign-in At</th>
      <th>Last Sign-in At</th>
      <th>Current Sign-in IP</th>
      <th>Last Sign-in IP</th>
      <th>Created At</th>
      <th>Updated At</th>
      <th></th>
    </tr>
  </thead>

  <tbody id="main-table_body">
    <% @admins.each_with_index do |admin, index| %>
      <tr>
        <td><%= index + 1 %></td>
        <td id="amdin-name">
          <a href="#" data-xeditable="true"
                      data-pk="<%= admin.id %>"
                      data-model="admin"
                      data-name="name"
                      data-url="<%= admin_path(admin.id) %>"
                      data-title="Admin Name">
            <%= admin.name %>
          </a>
        </td>
        <td><%= admin.email %></td>
        <td id="admin-role">
          <a href="#" data-value="<%= admin.role %>"
                      data-pk="<%= admin.id %>"
                      data-model="admin"
                      data-name="role"
                      data-url="<%= admin_path(admin) %>"
                      data-title="Select Role">
            <%= admin.role %>
          </a>
        </td>
        <td><%= admin.sign_in_count %></td>
        <td><%= admin.current_sign_in_at %></td>
        <td><%= admin.last_sign_in_at %></td>
        <td><%= admin.current_sign_in_ip %></td>
        <td><%= admin.last_sign_in_ip %></td>
        <td><%= admin.created_at %></td>
        <td><%= admin.updated_at %></td>

        <td><%= link_to admin, method: :delete,
                        data: {confirm: 'Are you sure?'},
                        class: 'btn btn-danger btn-xs' do %>
            <i class="glyphicon glyphicon-remove"></i> Destroy
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
